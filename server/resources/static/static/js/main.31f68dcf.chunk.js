(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,n,t){e.exports=t.p+"static/media/background.29a7fea0.jpg"},40:function(e,n,t){e.exports=t(55)},45:function(e,n,t){},46:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(23),c=t.n(r),i=(t(45),t(46),t(47),t(36)),l=t.n(i),u=t(11),s=t(12),g=t(13),d=t(14),p=t(57),b=t(58),O=t(59),f=t(16),h=t(26),m=t(56),L={LOGIN_SUCCESS:"LoginSuccess",LOGIN_FAILED:"LoginFailure",LOGGING_IN:"LoggingIn",LOGOUT_SUCCESS:"LogoutSuccess",LOGOUT_FAILED:"LogoutFailure"},I=function(e){return{type:L.LOGINFAILURE,payload:e.error}},j="550834628183-e6b28mho8aka4u3587li44oc9crhk2dd.apps.googleusercontent.com",E=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(e){var o;return Object(u.a)(this,t),(o=n.call(this,e)).logout=function(e){console.log(e),o.props.LogoutSuccess()},o.logoutfail=function(){o.props.LogoutFailure()},o.state={isLoggedIn:e.isLoggedIn},o}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?a.a.createElement(h.GoogleLogout,{clientId:j,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.logoutfail,render:function(e){return a.a.createElement(m.a,{onClick:e.onClick,disabled:e.disabled},"Logout")}}):a.a.createElement(a.a.Fragment,null)}}]),t}(a.a.Component),v=Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}),{LogoutSuccess:function(){return{type:L.LOGOUT_SUCCESS}},LogoutFailure:function(e){return{type:L.LOGOUT_FAILED,payload:e.error}}})(E),y=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("header",null,a.a.createElement(p.a,{light:!0,expand:"md",color:"white",className:"border-bottom box-shadow mb-3"},a.a.createElement(b.a,{className:"text-center"},a.a.createElement(O.a,{href:"/"},"KTorAssignment")),a.a.createElement(v,null)))}}]),t}(a.a.Component),k=Object(f.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))(y),S=t(8),G=t(61),C=t(62),w=t(60),N=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(e){var o;return Object(u.a)(this,t),(o=n.call(this,e)).login=function(e){o.props.LoggingIn(e),console.log(o.props.isLoggedIn)},o.handleLoginFailure=function(e){console.log(e),o.props.LoginFailure(e)},o}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?null:a.a.createElement(h.GoogleLogin,{clientId:j,buttonText:"Login",onSuccess:this.login,onFailure:this.handleLoginFailure,render:function(e){return a.a.createElement(w.a,{color:"primary",outline:!0,style:{width:"100%"},onClick:e.onClick,disabled:e.disabled},"Sign In with Google")}})}}]),t}(a.a.Component),x=Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}),(function(e){return{LoggingIn:function(n){e({type:L.LOGGING_IN,payload:n.accessToken})},LoginFailure:function(n){e(I(n))}}}))(N),F=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(e){return Object(u.a)(this,t),n.call(this,e)}return Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.isLoggedIn),this.props.isLoggedIn?a.a.createElement(S.a,{to:"/home"}):a.a.createElement(b.a,null,a.a.createElement(G.a,null,a.a.createElement(C.a,{className:"pt-3",xs:{size:8,offset:2},sm:7,md:{size:4,offset:8},style:{textAlign:"center",backgroundColor:"white",height:"300px"}},a.a.createElement(x,null))))}}]),t}(a.a.Component),T=Object(S.g)(Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}))(F)),_=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,"Home")}}]),t}(a.a.Component),U=Object(S.g)(_),A=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,"Profile")}}]),t}(a.a.Component),M=Object(S.g)(A),D=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?a.a.createElement(S.b,this.props):a.a.createElement(S.a,{to:"/"})}}]),t}(a.a.Component),z=Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}))(D);var J=function(){return a.a.createElement("div",{className:"App",style:{backgroundImage:"url(".concat(l.a,")"),backgroundSize:"cover",height:"100vh"}},a.a.createElement(k,null),a.a.createElement(S.d,null,a.a.createElement(z,{path:"/home",component:U}),a.a.createElement(z,{path:"/profile",component:M}),a.a.createElement(S.b,{path:"/",component:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=t(18),W=t(39),H=t(20),K={isLoggedIn:!1,accessToken:"",errorMsg:null,loggingIn:!1},P=t(38),R=t.n(P),$=(t(53),t(22)),q=t.n($),Q=t(28),V=q.a.mark(Y),X=q.a.mark(Z);function Y(e){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({"access-token":e.payload})}).then((function(e){return e.json()})).catch((function(e){throw e}));case 3:return n=t.sent,t.next=6,Object(Q.a)({type:L.LOGIN_SUCCESS,payload:n["access-token"]});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Q.a)(I(t.t0));case 12:case"end":return t.stop()}}),V,null,[[0,8]])}function Z(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.b)(L.LOGGING_IN,Y);case 2:case"end":return e.stop()}}),X)}var ee=Object(W.a)(),ne=Object(B.e)(Object(B.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case L.LOGIN_SUCCESS:return Object(H.a)({},e,{isLoggedIn:!0,accessToken:n.payload,errorMsg:null,loggingIn:!1});case L.LOGIN_FAILED:return Object(H.a)({},e,{isLoggedIn:!1,accessToken:"",errorMsg:n.payload,loggingIn:!1});case L.LOGGING_IN:return Object(H.a)({},e,{isLoggedIn:!1,accessToken:"",errorMsg:null,loggingIn:!0});case L.LOGOUT_SUCCESS:return Object(H.a)({},e,{isLoggedIn:!1,accessToken:"",errorMsg:null,loggingIn:!1});case L.LOGOUT_FAILED:return Object(H.a)({},e,{isLoggedIn:!0,errorMsg:n.payload});default:return e}}}),Object(B.a)(ee,R.a));ee.run(Z);var te=ne,oe=t(19);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f.a,{store:te},a.a.createElement(oe.a,null,a.a.createElement(J,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.31f68dcf.chunk.js.map