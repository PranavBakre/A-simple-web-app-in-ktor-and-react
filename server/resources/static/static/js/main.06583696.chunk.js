(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,n,t){e.exports=t.p+"static/media/background.29a7fea0.jpg"},40:function(e,n,t){e.exports=t(55)},45:function(e,n,t){},46:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(23),c=t.n(r),i=(t(45),t(46),t(47),t(36)),l=t.n(i),u=t(11),s=t(12),g=t(13),d=t(14),p=t(57),b=t(58),O=t(59),f=t(16),h=t(26),m=t(56),L={LOGINSUCCESS:"LoginSuccess",LOGINFAILED:"LoginFailure",LOGGINGIN:"LoggingIn",LOGOUTSUCCESS:"LogoutSuccess",LOGOUTFAILED:"LogoutFailure"},I=function(e){return{type:L.LOGGINGIN,payload:e.accessToken}},j=function(e){return{type:L.LOGINFAILURE,payload:e.error}},E="550834628183-e6b28mho8aka4u3587li44oc9crhk2dd.apps.googleusercontent.com",v=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(e){var o;return Object(u.a)(this,t),(o=n.call(this,e)).logout=function(e){console.log(e),o.props.LogoutSuccess()},o.logoutfail=function(){o.props.LogoutFailure()},o.state={isLoggedIn:e.isLoggedIn},o}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?a.a.createElement(h.GoogleLogout,{clientId:E,buttonText:"Logout",onLogoutSuccess:this.logout,onFailure:this.logoutfail,render:function(e){return a.a.createElement(m.a,{onClick:e.onClick,disabled:e.disabled},"Logout")}}):a.a.createElement(a.a.Fragment,null)}}]),t}(a.a.Component),y=Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}),{LogoutSuccess:function(){return{type:L.LOGOUTSUCCESS}},LogoutFailure:function(e){return{type:L.LOGOUTFAILED,payload:e.error}}})(v),k=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("header",null,a.a.createElement(p.a,{light:!0,expand:"md",color:"white",className:"border-bottom box-shadow mb-3"},a.a.createElement(b.a,{className:"text-center"},a.a.createElement(O.a,{href:"/"},"KTorAssignment")),a.a.createElement(y,null)))}}]),t}(a.a.Component),S=Object(f.b)((function(e){return{isLoggedIn:e.isLoggedIn}}))(k),C=t(8),G=t(61),w=t(62),x=t(60),F=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(e){var o;return Object(u.a)(this,t),(o=n.call(this,e)).login=function(e){o.props.LoggingIn(e),console.log(o.props.isLoggedIn)},o.handleLoginFailure=function(e){console.log(e),o.props.LoginFailure(e)},o}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?null:a.a.createElement(h.GoogleLogin,{clientId:E,buttonText:"Login",onSuccess:this.login,onFailure:this.handleLoginFailure,render:function(e){return a.a.createElement(x.a,{color:"primary",outline:!0,style:{width:"100%"},onClick:e.onClick,disabled:e.disabled},"Sign In with Google")}})}}]),t}(a.a.Component),N=Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}),(function(e){return{LoggingIn:function(n){e(I(n))},LoginFailure:function(n){e(j(n))}}}))(F),T=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(e){return Object(u.a)(this,t),n.call(this,e)}return Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props.isLoggedIn),this.props.isLoggedIn?a.a.createElement(C.a,{to:"/home"}):a.a.createElement(b.a,null,a.a.createElement(G.a,null,a.a.createElement(w.a,{className:"pt-3",xs:{size:8,offset:2},sm:7,md:{size:4,offset:8},style:{textAlign:"center",backgroundColor:"white",height:"300px"}},a.a.createElement(N,null))))}}]),t}(a.a.Component),U=Object(C.g)(Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}))(T)),A=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,"Home")}}]),t}(a.a.Component),M=Object(C.g)(A),D=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,"Profile")}}]),t}(a.a.Component),z=Object(C.g)(D),J=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?a.a.createElement(C.b,this.props):a.a.createElement(C.a,{to:"/"})}}]),t}(a.a.Component),B=Object(f.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}))(J);var W=function(){return a.a.createElement("div",{className:"App",style:{backgroundImage:"url(".concat(l.a,")"),backgroundSize:"cover",height:"100vh"}},a.a.createElement(S,null),a.a.createElement(C.d,null,a.a.createElement(B,{path:"/home",component:M}),a.a.createElement(B,{path:"/profile",component:z}),a.a.createElement(C.b,{path:"/",component:U})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=t(18),K=t(39),P=t(20),R={isLoggedIn:!1,accessToken:"",errorMsg:null,loggingIn:!1},$=t(38),q=t.n($),Q=(t(53),t(22)),V=t.n(Q),X=t(28),Y=V.a.mark(_),Z=V.a.mark(ee);function _(e){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({"access-token":e.payload})});case 3:return n=t.sent,console.log(n).then((function(e){return e.json()})).catch((function(e){throw e})),t.next=7,Object(X.a)({type:L.LOGINSUCCESS,payload:n["access-token"]});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(X.a)(j(t.t0));case 13:case"end":return t.stop()}}),Y,null,[[0,9]])}function ee(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.b)(I,_);case 2:case"end":return e.stop()}}),Z)}var ne=Object(K.a)(),te=Object(H.e)(Object(H.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case L.LOGINSUCCESS:return Object(P.a)({},e,{isLoggedIn:!0,accessToken:n.payload,errorMsg:null,loggingIn:!1});case L.LOGINFAILED:return Object(P.a)({},e,{isLoggedIn:!1,accessToken:"",errorMsg:n.payload,loggingIn:!1});case L.LOGGINGIN:return Object(P.a)({},e,{isLoggedIn:!1,accessToken:"",errorMsg:null,loggingIn:!0});case L.LOGOUTSUCCESS:return Object(P.a)({},e,{isLoggedIn:!1,accessToken:"",errorMsg:null,loggingIn:!1});case L.LOGOUTFAILED:return Object(P.a)({},e,{isLoggedIn:!0,errorMsg:n.payload});default:return e}}}),Object(H.a)(ne,q.a));ne.run(ee);var oe=te,ae=t(19);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f.a,{store:oe},a.a.createElement(ae.a,null,a.a.createElement(W,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.06583696.chunk.js.map